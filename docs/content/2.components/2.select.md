# Select

:SelectDemo

## Default
`<RSelect />` is base component which will have `<ROption />` as default slot. value of each item will be on `value` prop of `ROption`.

::Demo
  :::CodeGroup
    ```vue [template]
    <template>
    <RSelect v-model="selected" placeholder="Placeholder" >
      <ROption v-for="{ name, id } in items" :value="id" :text="name" />
    </RSelect>
    </template>
    ```
    ```ts [script]
    const items = ref([
      { name: "Vue", id: 1 },
      { name: "React", id: 2 },
      { name: "Svelte", id: 3 },
      { name: "Nuxt", id: 4 },
      { name: "Node", id: 5 },
    ]);
    const selected = ref();
    ```
  :::
#demo
  :SelectDefault
::

<!-- TODO: Custom option -->
## Custom Option
Default slot of `ROption` components lets you render your custom item. by default only `text` prop is shown. If you do not pass `text` prop you need to use `renderPlaceholder` to [customize the placeholder](#custom-placeholder) and if select is multiple you should use [custom selected items ( tags )](#custom-selected-items) as well.

::Demo
  :::CodeGroup
    ```vue [template]
    <template>
      <RSelect v-model="selected" placeholder="Custom Option" :renderPlaceholder="renderPlaceholder" label="single item">
        <ROption v-for="{ name, flag, id } in items" :value="id" :context="{ name, flag }">
          <div class="custom-option">
            <img :src="flag">
            <span>{{ name }}</span>
          </div>
        </ROption>
      </RSelect>
      <RSelect v-model="selectedMultiple"
        multiple
        placeholder="Custom Option"
        :renderPlaceholder="renderMultplePlaceholder"
        label="multiple item">
        <ROption v-for="{ name, flag, id } in items" :value="id" :context="{ name, flag }">
          <div class="custom-option">
            <img :src="flag">
            <span>{{ name }}</span>
          </div>
        </ROption>
        <template #selectedItem="{ context }">
          <div class="selected-item">
            <img :src="context.flag">
            <span>{{ context.name }}</span>
          </div>
        </template>
      </RSelect>
    </template>
    ```
    ```ts [script]
    import type { ROptionProps } from 'sevue'

    const items = ref([
      { name: "Germany", id: 1, flag: 'https://flagsapi.com/DE/flat/64.png' },
      { name: "Italy", id: 2, flag: 'https://flagsapi.com/IT/flat/64.png' },
      { name: "United Kingdom", id: 3, flag: 'https://flagsapi.com/GB/flat/64.png' },
      { name: "France", id: 4, flag: 'https://flagsapi.com/FR/flat/64.png' },
      { name: "Greece", id: 5, flag: 'https://flagsapi.com/GR/flat/64.png' },
    ]);
    const selected = ref('');
    const selectedMultiple = ref([]);

    const renderPlaceholder = (option: ROptionProps) => {
      return option.context.name
    }
    const renderMultplePlaceholder = (options: any) => {
      return `${options.length} items selected`
    }
    ```
  :::
#demo
  :SelectCustomOption
::

## Custom Placeholder
If you don't specify `text` on `ROption` you need to use a custom placeholder which is a function accepting selected option( when single select ) or array of selected options( when multiple select ) and returns a string to be displayed when any item is selected. defaults to:
```ts
renderPlaceholder: (option: Option | Option[]) => {
  if (Array.isArray(option)) return `${option.length} selected`
  else return option.text || ''
}
```


## Custom Selected Items
To show custom tags when selection is multiple you can use named slot of `#selectedItem` which accepts option props. `context` prop is used for passing custom data.


::Demo
  :::CodeGroup
    ```vue [template]
    <template>
      <RSelect v-model="selectedMultiple"
        multiple
        placeholder="Select Items"
        :renderPlaceholder="renderPlaceholder"
        label="Custom Selected Items">
        <ROption v-for="{ name, flag, id } in items" :value="id" :context="{ name, flag }">
          <div class="custom-option">
            <img :src="flag">
            <span>{{ name }}</span>
          </div>
        </ROption>
        <template #selectedItem="{ context }">
          <div class="selected-item">
            <img :src="context.flag">
            <span>{{ context.name }}</span>
          </div>
        </template>
      </RSelect>
    </template>
    ```
    ```ts [script]
      const items = ref([
        { name: "Germany", id: 1, flag: 'https://flagsapi.com/DE/flat/64.png' },
        { name: "Italy", id: 2, flag: 'https://flagsapi.com/IT/flat/64.png' },
        { name: "United Kingdom", id: 3, flag: 'https://flagsapi.com/GB/flat/64.png' },
        { name: "France", id: 4, flag: 'https://flagsapi.com/FR/flat/64.png' },
        { name: "Greece", id: 5, flag: 'https://flagsapi.com/GR/flat/64.png' },
      ]);
      const selectedMultiple = ref([]);

      const renderPlaceholder = (options: any) => {
        return `${options.length} items selected`
      }
    ```
  :::
#demo
  :SelectCustomSelectedItems
::



## `RSelectGroup`
Used when items are grouped.

::Demo
  :::CodeGroup
    ```vue [template]
    <template>
    <RSelect v-model="selected" placeholder="Select City">
      <RSelectGroup v-for="{ title, cities } in items" :title="title">
        <ROption v-for="{name, id} in cities" :value="id" :text="name" />
      </RSelectGroup>
    </RSelect>
    </template>
    ```
    ```ts [script]
    const items = ref([
      {
        title: "UK",
        cities: [
          { name: "London", id: 1 },
          { name: "Bristol", id: 2 },
        ],
      },
      {
        title: "Russia",
        cities: [
          { name: "Moscow", id: 3 },
          { name: "Saint Petersburg", id: 4 },
          { name: "Novosibirsk", id: 5 },
        ],
      },
    ]);
    const selected = ref();
    ```
  :::
#demo
  :SelectGroup
::

## multiple
Initial value of `v-model` or `modelValue` needs to be and array.
`keepOpenAfterSelection` prevents the select from closing after value selection.
::Demo
  :::CodeGroup
    ```vue [template]
    <template>
    <RSelect v-model="selected" multiple keepOpenAfterSelection>
      <ROption v-for="{ name, id } in items" :value="id" :text="name" />
    </RSelect>
    </template>
    ```
    ```ts [script]
    const items = ref([
      { name: "Germany", id: 1 },
      { name: "Italy", id: 2 },
      { name: "United Kingdom", id: 3 },
      { name: "France", id: 4 },
      { name: "Greece", id: 5 },
    ]);
    const selected = ref([]);
    ```
  :::
#demo
  ::SelectMultiple
::



## Props

### `searchable`
::Demo
  :::CodeGroup
    ```vue [template]
    <template>
    <RSelect v-model="selected" searchable label="Select Something">
      <ROption v-for="{ name, id } in items" :value="id" :text="name" />
    </RSelect>
    </template>
    ```
    ```ts [script]
    const items = ref([
      { name: "Germany", id: 1 },
      { name: "Italy", id: 2 },
      { name: "United Kingdom", id: 3 },
      { name: "France", id: 4 },
      { name: "Greece", id: 5 },
    ]);
    const selected = ref();
    ```
  :::
#demo
  ::SelectBase{:searchable="true" label="Select Something"}
::


### `disabled`
This prop can be passed to `RSelect` to disable the whole select or `ROption` to disable specific option/options.
::Demo
  :::CodeGroup
    ```vue [template]
    <template>
    <RSelect v-model="selected" :disabled="disabled">
      <ROption v-for="{ name, id } in items" :value="id" :text="name" />
    </RSelect>
    <RButton @click="disabled = !disabled">{{ disabled ? 'Enable' : 'Disable' }}</RButton>
    </template>
    ```
    ```ts [script]
    const items = ref([
      { name: "Germany", id: 1 },
      { name: "Italy", id: 2 },
      { name: "United Kingdom", id: 3 },
      { name: "France", id: 4 },
      { name: "Greece", id: 5 },
    ]);
    const selected = ref();
    const disabled = ref(true)
    ```
  :::
#demo
  ::SelectDisabled
::

## State
<!-- TODO: -->

## Props
| Name                   | Type                                         | Required | Default Value | Description                                                                                             |
| ---------------------- | -------------------------------------------- | -------- | ------------- | ------------------------------------------------------------------------------------------------------- |
| searchable             | boolean                                      | No       | false         | If true, allows users to search for and select options from a dropdown menu.                            |
| multiple               | boolean                                      | No       | false         | If true, allows users to select multiple options from the dropdown menu.                                |
| modelValue             | array \| number \| string                    | Yes      | undefined     | The selected value(s) of the dropdown menu. If multiple is set to true, an array of values is expected. |
| placeholder            | string                                       | No       | ""            | The text displayed inside the dropdown menu when no options are selected.                               |
| disabled               | boolean                                      | No       | false         | If true, disables the dropdown menu.                                                                    |
| label                  | string                                       | No       | undefined     | The label displayed above the dropdown menu.                                                            |
| keepOpenAfterSelection | boolean                                      | No       | false         | If true, keeps the dropdown menu open after a selection has been made.                                  |
| color                  | string                                       | No       | undefined     | The color of the Select.                                                                         |
| error                  | boolean                                      | No       | false         | If true, adds error styling.                                                       |
| message                | string                                       | No       | undefined     | The message displayed below the dropdown menu.                                                          |
| inputProps             | object of any                                | No       | undefined     | Props to pass down to input |

## Events
| Event | Arguments | Description                  |
|-------|-----------|------------------------------|
| open  | -         | Called when dropdown opens.  |
| close | -         | Called when dropdown closes. |